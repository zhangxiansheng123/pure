---
title: Elasticsearch
date: 2021-12-22 22:38:45
permalink: /pages/bab185/
categories:
  - 更多
  - 面试
tags:
  - 
---
* 倒排索引和正排索引的区别和优缺点
* 你们ElasticSearch 怎么用的，倒排索引是什么？
* 搜索引擎：根据用户的需求和一定的算法，结合特定策略（比如以网站最重要的关键词在主要搜索引擎中排名领先,这是搜索引擎推广中最重要的策略），快速检索出用户所需要数据的一门技术 （搜索引擎是倒排索引实现）
* 什么是倒排索引？

  * 正排索引是根据记录的id为key,进行记录的查询，如果查某个关键词效率会很低，倒排索引是基于分词技术，单词的值去查询文档。
    * 倒排索引本质是一种算法，内部相当于有两张表，一个是文档列表表，一个是倒排索引区域，文档列表存的就是一条条记录，有编号id，倒排索引区会根据分词存储每条记录对应的编号，根据匹配对应分词快速查找记录，相当于给编号建立了分词索引。
* elasticSearch用在什么地方,为什么不使用redis或者mysql来实现

  * elasticSearch用在海量数据的检索中，使用elasticSearch可以达到接近实时的检索速度，适用于对检索性能有要求的网站上，比如大型电商项目的站内搜索，搜索引擎，数据分析，日志系统等
  * elasticSearch，redis，mysql对比
    * 首先三者都可以用存储数据
    * elasticSearch是基于倒排索引实现的，mysql是基于bTree索引实现的。但是elasticsearch是两级索引，而mysql是一级索引。mysql会对需要建立索引的字段建立一个btree索引文件，然后查询时，先从磁盘中加载整个索引文件，然后查索引，再次查磁盘。而elasticsearch对索引文件又建立了一个索引，存在内存中，所以当elasticsearch检索时，先查内存中的一级索引，然后通过一级索引定位到，真正索引文件的部分区域，只把该部分索引文件加载进内存，索引相比mysql省去了一些磁盘操作，比mysql更快一点
    * elasticsearch的数据时存在磁盘中的，所以可以存储大量数据，而redis是基于内存的，存储的数据量较小，所以对于海量数据的存储用elasticsearch相对更好
    * mysql查询小蜜手机时，如果通过like查询，什么也查询不到，但是elasticsearch通过查询时，会将小蜜手机分为小蜜和手机两个词，然后去索引中查找，至少可以搜索到和手机有关的信息